### 第一天

* 什么是操作系统
  1. 控制软件 
  2. 服务 软件控制
  3. 资源管理 资源分配器
  4. 操作系统是面向硬件下的特殊软件 是系统软件
  5. 操作系统是对硬件的管理和控制
  6. 系统界面为 Shell （外壳）
  7. Kernel  是内核 在Shell之下  关注Kernel
* Kernel操作系统内部组件
  1. cpu  cpu调度器
  2. 磁盘 物理内存管理
  3. 内存  虚拟内存管理
  4. 文件  文件系统管理
  5. 中断处理与设备驱动 （与硬件直接相关）
* OS (操作系统)  Kernel特征
  1. 并发
  2. 共享 （同时共享） (互斥共享)
  3. 虚拟 
  4. 异步  程序走走停停 环境相同 程序结果相同
* 操作系统实例
  1. Unix BSD 操作系统
  2. Linux操作系统  终端优势
  3. Windows操作系统 图形界面优势
* 操作系统结构
  1. uCore操作系统
  2. Ms-Dos操作系统 不分模块的单体内核
  3. 微内核架构 资源开销较大
  4. 外核架构 速度快
  5. Vms 架构   vms在硬件上  操作系统在vms之上 

### 第二节

* 操作系统启动

  1. DISK 存放OS Bootlader 在磁盘中
  2. BIOS 基本IO处理系统 在内存中
  3. 通电调用指定地址内存 POST(加电自检 检测外设 调动内存中BOIS) BIOS 执行 将Disk中的Bootlader加载到内存  Bootlader 获得cup控制权 将OS加载到内存 Cup控制权交给OS 执行一系列初始化工作 完成启动

* 操作系统与设备和程序交互  操作系统中断异常和系统调用

  1. 系统调用(来源于应用程序)

     应用程序主动向操作系统发出服务请求

     系统调用接口 规定了应用程序发出行动的规范 应用程序就可以间接的对计算机系统进行控制和管理 为了使应用程序方便使用接口 规定了

     1. Win32ApI Windows
     2. PoSIX API 用于 Posix-based systemms 包括 UNIx LInux mAc OS X 的所有版本
     3. JavaApi JAVA虚拟机  该Api是用与虚拟机的 最终使用的Api 是基于虚拟机的运行环境 来进行操作系统的系统调用 从而达到控制计算机系统和管理的目的
     4. 应用程序进行系统调用时 cpu命令特权级会从用户态到内核态发生转变 保证安全
     5. 跨越操作系统边界的开销 建立中断异常系统调用对应服务 建立内核堆栈 执行时间

  2. 异常(来源于不良的应用程序)

     非法指令或者其他坏的处理状态

     保存现场 异常处理(杀死程序or操作系统修补 重新执行异常指令) 恢复现场

  3. 中断(来源于外设)

     来自不同的硬件设备的计时器和网络中断

     保存软件执行状态 形参一个中断表 根据中断号进行具体操作 (保存当前数据 执行其他操作)

### 第三节

* 计算机体系结构 内存分层体系
  1. 寄存器 cache(l1 l2) 内存 磁盘
  2. 操作系统对内存目标:   抽象(得到逻辑地址空间) 保护(独立的地址空间)  共享(访问形态内存)  虚拟化(更多内存)
  3. 操作系统内存管理方法
* 地址空间 地址生成
  1. 物理地址空间(实际内存条 磁盘) 逻辑地址空间(一维 程序看到的)
  2. 逻辑内存生成(符号->地址) 编译 汇编 链接 载入
  3. 地址安全检查
* 连续内存分配
  1. 内存碎片问题  内碎片 外碎片
  2. 内存分配算法 首次分配算法(特点 ：简单)  最优适配算法(容易产生没有的小碎片 分配慢 )  最差适配算法(分配慢 大碎片利用)   压缩式碎片整理  交换式碎片整理

### 第四节

* 非连续内存分配

  1. 分段 

     将程序的数据 堆 代码段分离出来 分段存储到内存中 (连续逻辑地址) ---映射---> 不连续的物理地址 段表 + 偏移量

  2. 分页

     物理内存分页 页帧 + 偏移量确定 

     逻辑内存分页 页号 + 偏移量确定

* 页表

  1. 页表中存储着逻辑地址映射到物理地址的信息
  2. 逻辑地址页表示的比物理地址页表示大
  3. tob 减少时间 多级页面以时间换空间
  4. 反向页表